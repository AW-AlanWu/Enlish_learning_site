{% extends 'base.html' %}

{% block title %} {{title}} {% endblock %}

{% block script %}
    {% csrf_token %}
    {% load static %}
    <script src="{% static 'js/post_to_url.js' %}"></script>
    <script>
        const csrftoken = document.querySelector('[name=csrfmiddlewaretoken]').value;

        function delMeaning(button) {
            var id = button.parentNode.id;
            var msg = "您真的確定要刪除嗎？\n\n請確認！";
            if (confirm(msg)==true){
                post_to_url("{% url 'words:DelMeaning'%}", {'id' : id});
            } else{
                return;
            }
        }
    </script>
{% endblock %}

{% block content %}
    {% if Meaning_list %}
    <ol>
    {% for Meaning in Meaning_list %}
        <li id = "{{ Meaning.pk }}"><strong>{{ Meaning.chinese }}-{{ Meaning.speech }}</strong>&nbsp;<button onclick="delMeaning(this);">刪除</button></li>
        <p><em>例句：</em></p>
        <p>英：{{ Meaning.enlish_sentences }}</p>
        <p>中：{{ Meaning.chinese_sentences }}</p>
    {% endfor %}
    </ol>
    {% else %}
    <p>No Meaning are available.</p>
    {% endif %}

    <p><em>下方新增解釋</em></p>
    <form  action="{% url 'words:AddMeaning'%}" method="POST">
    {% csrf_token %}
    <p><label for="mean">中文解釋：</label><input type="text" required name="meaning" id="mean"></p>
    <p><label for="english">例句(英)：</label><input type="text" required name="english_sentences" id="english"></p>
    <p><label for="chinese">例句(中)</label><input type="text" required name="chinese_sentences" id="chinese"></p>
    <p><label for="sp">詞性：</label>
        <select name="speech" required id="sp">
            <option value="n">名詞</option>
            <option value="pron">代名詞</option>
            <option value="v">動詞</option>
            <option value="adj">形容詞</option>
            <option value="adv">副詞</option>
            <option value="prep">介系詞</option>
            <option value="conj">連接詞</option>
            <option value="int">感嘆詞</option>
        </select></p>
    <input type="hidden" name="id" value="{{ Voc_id }}">
    <input type="submit">
    </form>

    <p>
    <input type="button" value="go back?" onclick="location.href='{% url 'words:VocabularyEditor' Set_id %}'">
{% endblock %}